(function(t){function e(e){for(var o,r,a=e[0],l=e[1],c=e[2],u=0,p=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,a=1;a<n.length;a++){var l=n[a];0!==i[l]&&(o=!1)}o&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},i={app:0},s=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/d-web-radio/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var d=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},1:function(t,e){},2:function(t,e){},"29f7":function(t,e,n){"use strict";var o=n("6322"),i=n.n(o);i.a},6322:function(t,e,n){},7588:function(t,e,n){},8244:function(t,e,n){"use strict";var o=n("f6cc"),i=n.n(o);i.a},8573:function(t,e){t.exports="data:image/png;base64,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"},a992:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],r=n("9ab4"),a=n("60a3"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),e=r["b"]([a["a"]],e),e}(a["c"]),c=l,d=c,u=n("2877"),p=Object(u["a"])(d,i,s,!1,null,null,null),h=p.exports,v=n("1881"),g=n.n(v),b=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"jumbotron"},[n("h1",{staticClass:"display-3"},[t._v("Decentralized collaborative radio")]),n("p",{staticClass:"lead"},[t._v(" Here you can share your favorite music video from Youtube with other parties. Anyone can play, like or dislike these video. ")]),n("hr",{staticClass:"my-4"}),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"namespace-input"}},[t._v("Namespace")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.namespace,expression:"namespace"}],staticClass:"form-control",attrs:{type:"text",id:"namespace-input","aria-describedby":"namespace-help",placeholder:"Enter any string to start a new room"},domProps:{value:t.namespace},on:{input:function(e){e.target.composing||(t.namespace=e.target.value)}}}),n("small",{staticClass:"form-text text-muted",attrs:{id:"namespace-help"}},[t._v("Namespace means the name of a room to share your music.")])]),n("p",{staticClass:"lead"},[n("button",{staticClass:"btn btn-primary btn-lg",on:{click:t.begin}},[t._v("Begin")])])])},m=[],A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.namespace="demo",e}return r["c"](e,t),e.prototype.begin=function(){this.$router.push({name:"connections",params:{namespace:this.namespace}})},e=r["b"]([a["a"]],e),e}(a["c"]),y=A,k=y,C=Object(u["a"])(k,f,m,!1,null,null,null),w=C.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"page-wrapper chiller-theme",class:{toggled:t.sidebarToggled}},[n("a",{staticClass:"btn btn-sm btn-dark",attrs:{id:"show-sidebar",href:"javascript: void(0);"},on:{click:function(e){t.sidebarToggled=!0}}},[n("svg",{attrs:{id:"i-menu",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"20",height:"32",fill:"none",stroke:"currentcolor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"}},[n("path",{attrs:{d:"M4 8 L28 8 M4 16 L28 16 M4 24 L28 24"}})])]),n("nav",{staticClass:"sidebar-wrapper",attrs:{id:"sidebar"}},[n("div",{staticClass:"sidebar-content"},[n("div",{staticClass:"sidebar-brand"},[n("router-link",{attrs:{to:"/"}},[t._v(" "+t._s(t.namespace)+" ")]),n("div",{attrs:{id:"close-sidebar"},on:{click:function(e){t.sidebarToggled=!1}}},[n("span",{staticStyle:{padding:"6px 12px"},attrs:{"aria-hidden":"true"}},[t._v("×")])])],1),t.authenticatedUser?n("div",{staticClass:"sidebar-header"},[n("div",{staticClass:"user-pic"},[n("span",{domProps:{innerHTML:t._s(t.identicon)}})]),n("div",{staticClass:"user-info"},[n("span",{staticClass:"user-name"},[t._v(" "+t._s(t.authenticatedUser.login)+" ")]),n("span",{staticClass:"user-role",attrs:{title:t.authenticatedUser.publicKey}},[t._v(" "+t._s(t.authenticatedUser.publicKey.substr(0,8))+"..."+t._s(t.authenticatedUser.publicKey.substr(-8))+" ")]),n("span",{staticClass:"user-status"})])]):t._e(),!t.authenticatedUser&&t.activeConnectionsNum>0?n("div",{staticClass:"sidebar-header"},[n("button",{staticClass:"btn btn-primary mr-2 mb-2",attrs:{role:"button","data-toggle":"modal","data-target":"#loginModal"}},[t._v("Log-in")]),n("button",{staticClass:"btn btn-primary mb-2",attrs:{role:"button","data-toggle":"modal","data-target":"#registerModal"}},[t._v("Register")])]):t._e(),!t.authenticatedUser&&t.activeConnectionsNum<1?n("div",{staticClass:"sidebar-header"},[n("div",{staticClass:"text-muted"},[n("router-link",{attrs:{to:"connections"}},[t._v("Connect")]),t._v(" to the network to be able to authenticate.")],1)]):t._e(),n("div",{staticClass:"sidebar-menu"},[n("ul",[n("li",[n("router-link",{attrs:{to:"connections"}},[n("span",[t._v("Connections")]),n("span",{staticClass:"badge badge-pill",class:t.activeConnectionsNum>0?"badge-success":"badge-danger"},[t._v(" "+t._s(t.activeConnectionsNum)+" ")])])],1),n("li",[n("router-link",{attrs:{to:"radio"}},[n("span",[t._v("Radio")])])],1),n("li",[n("router-link",{attrs:{to:"top"}},[n("span",[t._v("Top 100")])])],1),n("li",[n("router-link",{attrs:{to:"my-transactions"}},[n("span",[t._v("My transactions")])])],1),n("li",[n("router-link",{attrs:{to:"users-with-transactions"}},[n("span",[t._v("Users with transactions")])])],1),n("li",[n("router-link",{attrs:{to:"ignore-and-block"}},[n("span",[t._v("Ignore and block")])])],1),n("li",[n("router-link",{attrs:{to:"about"}},[n("span",[t._v("About")])])],1)])])])]),n("main",{staticClass:"page-content"},[n("div",{staticClass:"container-fluid"},[n("transition",{attrs:{name:"slide-up"}},[t.playerVideoId?n("div",{staticStyle:{width:"640px"}},[n("player",{attrs:{"video-id":t.playerVideoId,playlist:t.playlist}})],1):t._e()]),t.playerVideoId?n("div",[n("div",{staticClass:"form-group form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.doNotAddToPlaylistDownVoted,expression:"doNotAddToPlaylistDownVoted"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"doNotAddToPlaylistDownVoted"},domProps:{checked:Array.isArray(t.doNotAddToPlaylistDownVoted)?t._i(t.doNotAddToPlaylistDownVoted,null)>-1:t.doNotAddToPlaylistDownVoted},on:{change:function(e){var n=t.doNotAddToPlaylistDownVoted,o=e.target,i=!!o.checked;if(Array.isArray(n)){var s=null,r=t._i(n,s);o.checked?r<0&&(t.doNotAddToPlaylistDownVoted=n.concat([s])):r>-1&&(t.doNotAddToPlaylistDownVoted=n.slice(0,r).concat(n.slice(r+1)))}else t.doNotAddToPlaylistDownVoted=i}}}),n("label",{staticClass:"form-check-label",attrs:{for:"doNotAddToPlaylistDownVoted"}},[t._v("Do not add down-voted urls to playlist")])])]):t._e(),n("router-view",{attrs:{namespace:t.namespace,connectionsPool:t.connectionsPool,postedUrls:t.postedUrls,postedUrlsTop:t.postedUrlsTop,authenticatedUser:t.authenticatedUser,youTubeRadio:t.youTubeRadio,activeConnectionsNum:t.activeConnectionsNum,myTransactions:t.myTransactions,usersWithTransactions:t.usersWithTransactions,preferencesIgnoreAndBlock:t.preferencesIgnoreAndBlock,maxVideoDuration:t.maxVideoDuration,socketsSignalingIsConnected:t.socketsSignalingIsConnected}}),n("div",{staticStyle:{display:"none"},attrs:{id:"validator-player-container"}}),n("v-dialog")],1)])]),n("div",{staticClass:"modal fade",attrs:{id:"loginModal",tabindex:"-1",role:"dialog","aria-labelledby":"loginModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(0),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"loginInput"}},[t._v("Login")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-control",attrs:{type:"text",id:"loginInput","aria-describedby":"loginHelp"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}}),n("small",{staticClass:"form-text text-muted",attrs:{id:"loginHelp"}},[t._v("Your login which you have already registered.")])]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"loginPasswordInput"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"loginPasswordInput"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t.authErrorMessage?n("div",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.authErrorMessage)+" ")]):t._e()]),n("div",{staticClass:"modal-footer"},[n("button",{ref:"loginCloseBtn",staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.signin}},[t._v("Log-in")])])])])]),n("div",{staticClass:"modal fade",attrs:{id:"registerModal",tabindex:"-1",role:"dialog","aria-labelledby":"registerModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(1),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"registerLoginInput"}},[t._v("Login")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],staticClass:"form-control",attrs:{type:"text",id:"registerLoginInput","aria-describedby":"registerLoginHelp"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}}),n("small",{staticClass:"form-text text-muted",attrs:{id:"registerLoginHelp"}},[t._v("Letters and numbers to identify you in the network.")])]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"registerPasswordInput"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"registerPasswordInput"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t.authErrorMessage?n("div",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.authErrorMessage)+" ")]):t._e()]),n("div",{staticClass:"modal-footer"},[n("button",{ref:"registerCloseBtn",staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.register}},[t._v("Register")])])])])])])},T=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"loginModalLabel"}},[t._v("Log-in")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"registerModalLabel"}},[t._v("Register")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("button",{on:{click:t.initiate}},[t._v("Initiate local")])]),t.connectionError?n("div",[t._v("Connection error")]):t._e(),t.isConnected?n("div",[t._v("CONNECTED")]):t._e()])},B=[],P=n("9066"),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showOutgoingMessage=!1,e.isConnected=!1,e.connectionError=!1,e}return r["c"](e,t),e.prototype.created=function(){var t=this;this.signaling=new P["LocalSignaling"],this.signaling.bindOnWebRtcConnectionErrorCallback((function(e){t.connectionError=!0}));var e=this.connectionsPool.connect(this.signaling);e.addOnOpenCallback((function(){t.isConnected=!0}))},e.prototype.initiate=function(){this.showOutgoingMessage=!0,this.signaling.initiate(1),this.connectionError=!1},r["b"]([Object(a["b"])()],e.prototype,"connectionsPool",void 0),e=r["b"]([a["a"]],e),e}(a["c"]),U=E,S=U,x=Object(u["a"])(S,I,B,!1,null,null,null),L=x.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.initiated||t.showIncomingMessage?t._e():n("div",[n("button",{staticClass:"btn btn-secondary mr-2",on:{click:t.initiate}},[t._v("I want to initiate")]),n("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.showIncomingMessage=!0}}},[t._v("Enter message from other party")])]),t.showOutgoingMessage?n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"textToSend"}},[t._v("Copy and send the message to the other party:")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textToSend,expression:"textToSend"}],staticClass:"text-to-copy form-control",attrs:{id:"textToSend"},domProps:{value:t.textToSend},on:{input:function(e){e.target.composing||(t.textToSend=e.target.value)}}}),n("button",{staticClass:"btn btn-secondary mt-2",on:{click:t.copy}},[t._v("Copy")])]):t._e(),t.showIncomingMessage?n("div",{staticClass:"form-group"},[t.initiated?n("label",{attrs:{for:"incomingMessageInput"}},[t._v(" Wait for the message from the other party, paste it here and click the button below: ")]):t._e(),t.initiated?t._e():n("label",{attrs:{for:"incomingMessageInput"}},[t._v(" Paste the message from the other party and click the button below: ")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.remote,expression:"remote"}],staticClass:"form-control",attrs:{id:"incomingMessageInput"},domProps:{value:t.remote},on:{input:function(e){e.target.composing||(t.remote=e.target.value)}}}),n("button",{staticClass:"btn btn-secondary mt-2",on:{click:t.applyRemote}},[t._v("Apply remote")])]):t._e(),t.waitingForConnection?n("div",[t._v(" Waiting for connection... "),t._m(0)]):t._e(),t.connectionError?n("div",{staticClass:"alert alert-danger"},[t._v("Connection error")]):t._e(),t.isConnected?n("div",{staticClass:"alert alert-success"},[t._v("CONNECTED")]):t._e()])},O=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[t._v("Waiting for connection...")])])}],V=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.remote="",e.textToSend="",e.showOutgoingMessage=!1,e.showIncomingMessage=!1,e.initiated=!1,e.isConnected=!1,e.connectionError=!1,e.waitingForConnection=!1,e}return r["c"](e,t),e.prototype.created=function(){var t=this;this.signaling=new P["ManualSignaling"],this.signaling.bindOnOutgoingDataCallback((function(e){t.textToSend=e})),this.signaling.bindOnWebRtcConnectionErrorCallback((function(e){t.connectionError=!0,t.waitingForConnection=!1}));var e=this.connectionsPool.connect(this.signaling);e.addOnOpenCallback((function(){t.isConnected=!0,t.waitingForConnection=!1}))},e.prototype.initiate=function(){this.initiated=!0,this.showOutgoingMessage=!0,this.showIncomingMessage=!0,this.signaling.initiate(),this.connectionError=!1},e.prototype.copy=function(){var t=document.querySelector(".text-to-copy");t&&(t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"))},e.prototype.applyRemote=function(){this.connectionError=!1,this.showOutgoingMessage=!0,this.signaling.applyRemoteResponse(JSON.parse(this.remote)),this.showIncomingMessage=!1,this.waitingForConnection=!0},r["b"]([Object(a["b"])()],e.prototype,"connectionsPool",void 0),e=r["b"]([a["a"]],e),e}(a["c"]),j=V,W=j,M=Object(u["a"])(W,N,O,!1,null,null,null),R=M.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.signalingIsConnected?t._e():n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"sockets-address"}},[t._v("Address:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",attrs:{id:"sockets-address",disabled:t.connectingSignaling,"aria-describedby":"socketsAddressHelp"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),n("small",{staticClass:"form-text text-muted",attrs:{id:"socketsAddressHelp"}},[t._v("Use the default Web Sockets signaling server or enter your one.")])]),t.connectingSignaling?t._e():n("button",{staticClass:"btn btn-primary mb-4",on:{click:t.connect}},[t._v("Connect")]),t.signalingIsConnected?n("div",{staticClass:"alert alert-warning mb-4"},[t._v(" Signaling is CONNECTED, waiting for peers "),t._m(0)]):t._e(),t.peerConnected?n("div",{staticClass:"alert alert-success mb-4"},[t._v(" PEER CONNECTED "),n("p",[n("router-link",{attrs:{to:"radio"}},[n("span",[t._v("Go to Radio page")])])],1)]):t._e(),!t.peerConnected&&t.socketsSignalingIsConnected?n("div",{staticClass:"alert alert-info mb-4"},[t._v(" You are already connected to the signaling server. ")]):t._e(),t.countdown>0&&!t.cancelCountdown?n("div",{staticClass:"alert alert-info mb-4"},[t._v(" Auto-connect in "+t._s(t.countdown)+"s... "),n("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.cancelCountdown=!0}}},[t._v("Cancel")])]):t._e()])},Q=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[t._v("Waiting for connection...")])])}],q=new o["a"],K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.address="https://signaler.getid.org",e.peerConnected=!1,e.connectingSignaling=!1,e.signalingIsConnected=!1,e.countdown=5,e.cancelCountdown=!1,e}return r["c"](e,t),e.prototype.created=function(){this.socketsSignalingIsConnected?this.cancelCountdown=!0:this.countdownTick()},e.prototype.countdownTick=function(){var t=this;this.cancelCountdown||(this.countdown-=1,this.countdown>0?window.setTimeout((function(){t.countdownTick()}),1e3):this.connect())},e.prototype.connect=function(){var t=this;this.cancelCountdown=!0,this.connectingSignaling=!0,this.signaling=new P["SocketIoSignaling"](this.address,this.room),this.signaling.prepare().then((function(){t.connectingSignaling=!1,t.signalingIsConnected=!0;var e=[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:numb.viagenie.ca"],username:"rnix@yandex.ru",credential:"$7Ux63KGKjCXvZm"},{urls:["turn:185.14.184.177"],username:"1591860133",credential:"hVdIrj051qW+eO71WRdz6pG/7t8="}],n=t.connectionsPool.connect(t.signaling,e);n.addOnOpenCallback((function(){t.peerConnected=!0})),q.$emit("socketsSignalingIsConnected",n,t.signaling)}))},r["b"]([Object(a["b"])()],e.prototype,"connectionsPool",void 0),r["b"]([Object(a["b"])({default:"example"})],e.prototype,"room",void 0),r["b"]([Object(a["b"])({default:0})],e.prototype,"activeConnectionsNum",void 0),r["b"]([Object(a["b"])({default:!1})],e.prototype,"socketsSignalingIsConnected",void 0),e=r["b"]([a["a"]],e),e}(a["c"]),z=K,X=z,H=Object(u["a"])(X,D,Q,!1,null,null,null),Y=H.exports,F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.postedUrls&&t.postedUrls.length?o("ol",{staticClass:"list-unstyled"},t._l(t.postedUrls.slice(0,100),(function(e){return o("li",{key:e.urlModel.videoId,staticClass:"media mb-5",class:{voted:t.user&&e.hasUserVoted(t.user),votedUp:t.user&&e.hasUserVotedPositively(t.user),votedDown:t.user&&e.hasUserVotedNegatively(t.user),canVote:t.user&&!e.hasUserVoted(t.user)}},[o("div",{staticClass:"mr-4 text-center votes-container"},[o("a",{staticClass:"vote-btn vote-up-btn",attrs:{href:"javascript: void(0);"},on:{click:function(n){return t.voteUp(e)}}},[o("svg",{attrs:{id:"i-chevron-top",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32",height:"32",fill:"none",stroke:"currentcolor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"}},[o("path",{attrs:{d:"M30 20 L16 8 2 20"}})])]),o("div",[o("svg",{attrs:{id:"i-plus",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"14",height:"14",fill:"none",stroke:"currentcolor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"}},[o("path",{attrs:{d:"M16 2 L16 30 M2 16 L30 16"}})]),t._v(" "+t._s(e.getPositiveVotes().length)+" ")]),o("div",[o("svg",{attrs:{id:"i-minus",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"14",height:"14",fill:"none",stroke:"currentcolor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"}},[o("path",{attrs:{d:"M2 16 L30 16"}})]),t._v(" "+t._s(e.getNegativeVotes().length)+" ")]),o("a",{staticClass:"vote-btn vote-down-btn",attrs:{href:"javascript: void(0);"},on:{click:function(n){return t.voteDown(e)}}},[o("svg",{attrs:{id:"i-chevron-bottom",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32",height:"32",fill:"none",stroke:"currentcolor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"}},[o("path",{attrs:{d:"M30 12 L16 24 2 12"}})])])]),o("div",{staticClass:"mr-3"},[e.urlModel.poster?o("img",{attrs:{src:e.urlModel.poster,width:"156",alt:""},on:{click:function(n){return t.play(e)}}}):t._e(),e.urlModel.poster?t._e():o("img",{attrs:{src:n("8573"),width:"156",alt:""},on:{click:function(n){return t.play(e)}}}),o("div",{staticClass:"text-muted"},[o("small",[t._v(t._s(e.storedAt.toLocaleString()))])])]),o("div",{staticClass:"media-body"},[o("h5",{staticClass:"mt-0"},[o("a",{staticClass:"video-title",attrs:{href:"javascript:void(0);"},on:{click:function(n){return t.play(e)}}},[t._v(t._s(e.urlModel.title))])]),o("div",{staticClass:"media"},[o("identicon",{staticClass:"mr-2",attrs:{user:e.urlModel.user,size:"60"}}),o("div",{staticClass:"media-body"},[o("div",{staticClass:"mb-2"},[o("user",{attrs:{user:e.urlModel.user,showIdenticon:!1}})],1),o("div",{staticClass:"text-muted",attrs:{title:e.urlModel.user.publicKey}},[t._v(" "+t._s(e.urlModel.user.publicKey.substr(0,4))+"..."+t._s(e.urlModel.user.publicKey.substr(-4))+" ")])])],1)])])})),0):t._e()])},Z=[],J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t.showIdenticon?n("identicon",{attrs:{user:t.user,size:"24"}}):t._e(),n("a",{attrs:{href:"javascript:void(0);"},on:{click:function(e){return t.showDialog(t.user)}}},[t._v(t._s(t.user.login))])],1)},$=[],G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{domProps:{innerHTML:t._s(t.identicon)}})},tt=[],et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),Object.defineProperty(e.prototype,"identicon",{get:function(){var t=n("5934");return t.toSvg(this.user.publicKey,this.size)},enumerable:!0,configurable:!0}),r["b"]([Object(a["b"])({default:null})],e.prototype,"user",void 0),r["b"]([Object(a["b"])({default:64})],e.prototype,"size",void 0),e=r["b"]([a["a"]],e),e}(a["c"]),nt=et,ot=nt,it=Object(u["a"])(ot,G,tt,!1,null,null,null),st=it.exports,rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),e.prototype.showDialog=function(t){var e=this;this.$modal.show("dialog",{title:t.login,text:'<p>Click "Block" user if you think it is bot and publishes only flood.</p><p>Click "Ignore" if you do not want see his/her transactions anymore.</p><p>Use whitelists to make a list users whom you trust and block (ignore) others.</p>',buttons:[{title:"Block",handler:function(){q.$emit("userControl","block",t),e.$modal.hide("dialog")}},{title:"Ignore",handler:function(){q.$emit("userControl","ignore",t),e.$modal.hide("dialog")}},{title:"Add to whitelist (block-level)",handler:function(){q.$emit("userControl","addToBlockWhiteList",t),e.$modal.hide("dialog")}},{title:"Add to whitelist (ignore-level)",handler:function(){q.$emit("userControl","addToIgnoreWhiteList",t),e.$modal.hide("dialog")}},{title:"Close",default:!0}]})},r["b"]([Object(a["b"])({default:null})],e.prototype,"user",void 0),r["b"]([Object(a["b"])({default:!0})],e.prototype,"showIdenticon",void 0),e=r["b"]([Object(a["a"])({components:{Identicon:st}})],e),e}(a["c"]),at=rt,lt=at,ct=Object(u["a"])(lt,J,$,!1,null,null,null),dt=ct.exports,ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),e.prototype.voteUp=function(t){t.hasUserVoted(this.user)||q.$emit("vote",t,!0)},e.prototype.voteDown=function(t){t.hasUserVoted(this.user)||q.$emit("vote",t,!1)},e.prototype.play=function(t){q.$emit("play",t,this.listId)},r["b"]([Object(a["b"])({default:[]})],e.prototype,"postedUrls",void 0),r["b"]([Object(a["b"])({default:null})],e.prototype,"user",void 0),r["b"]([Object(a["b"])({default:""})],e.prototype,"listId",void 0),e=r["b"]([Object(a["a"])({components:{Identicon:st,User:dt}})],e),e}(a["c"]),pt=ut,ht=pt,vt=(n("29f7"),Object(u["a"])(ht,F,Z,!1,null,"627c8c23",null)),gt=vt.exports,bt=function(){function t(){}return t.prototype.modelToPayload=function(t,e){var n={id:t.videoId};return e&&(n["d"]=t.duration,n["t"]=t.title,n["p"]=t.poster),n},t.prototype.fromPayloadToModel=function(t,e,n){var o=new ft(t["id"],e);return n&&(t["d"]&&(o.duration=t["d"]),t["t"]&&(o.title=t["t"]),t["p"]&&(o.poster=t["p"])),o},t}(),ft=function(){function t(t,e){this.duration=null,this.title=null,this.poster=null,this.videoId=t,this.user=e}return t.prototype.getSerializer=function(){return new bt},t}(),mt=function(){function t(){}return t.t="YT",t}(),At=function(){function t(){}return t.prototype.extractVideoId=function(t){if(!t)throw new Error("Empty url");var e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=|\?v=)([^#&?]*).*/,n=t.match(e);if(!n||11!==n[2].length)throw new Error("Invalid YouTube url");return n[2]},t}(),yt=function(){function t(){}return t.prototype.modelToPayload=function(t,e){return{id:t.videoId,p:t.isPositive?1:0}},t.prototype.fromPayloadToModel=function(t,e,n){return new kt(t["id"],e,1===t["p"])},t}(),kt=function(){function t(t,e,n){this.videoId=t,this.user=e,this.isPositive=n}return t.prototype.getSerializer=function(){return new yt},t}(),Ct=function(){function t(){}return t.t="YTV",t}(),wt=function(){function t(t,e,n){void 0===n&&(n=[]),this.urlModel=t,this.storedAt=e,this.votes=n}return t.prototype.addVote=function(t){this.votes.push(t)},t.prototype.getPositiveVotes=function(){return this.votes.filter((function(t){return t.isPositive}))},t.prototype.getNegativeVotes=function(){return this.votes.filter((function(t){return!t.isPositive}))},t.prototype.hasUserVotedPositively=function(t){return this.getPositiveVotes().filter((function(e){return e.user.publicKey===t.publicKey})).length>0},t.prototype.hasUserVotedNegatively=function(t){return this.getNegativeVotes().filter((function(e){return e.user.publicKey===t.publicKey})).length>0},t.prototype.hasUserVoted=function(t){return this.hasUserVotedNegatively(t)||this.hasUserVotedPositively(t)},t.prototype.getScore=function(){return this.getPositiveVotes().length-this.getNegativeVotes().length},t}(),_t=n("04b7"),Tt=function(){function t(){}return t.prototype.validate=function(t,e){return r["a"](this,void 0,Promise,(function(){var n,o,i,s,a;return r["d"](this,(function(r){if(n=e.model,!n.videoId)throw new Error("Empty video ID");if(11!==n.videoId.length)throw new Error("Incorrect video ID");for(o=0,i=t;o<i.length;o++)if(s=i[o],s.type===Ct.t&&(a=s.model,a.videoId===n.videoId&&a.user.publicKey===n.user.publicKey))throw new Error("Vote for this video has been already saved");return[2]}))}))},t}(),It=n("4fb8"),Bt=n.n(It),Pt=function(){function t(){this.maxVideoDuration=600,this.youtubeValidationTimeout=1e4}return t.prototype.validate=function(t,e){return r["a"](this,void 0,Promise,(function(){var n,o,i,s,a,l,c,d,u=this;return r["d"](this,(function(r){if(n=e.model,!n.videoId)throw new Error("Empty video ID");if(11!==n.videoId.length)throw new Error("Incorrect video ID");for(o=0,i=t;o<i.length;o++)if(s=i[o],s.type===mt.t&&(a=s.model,a.videoId===n.videoId))throw new Error("Url already posted");if("undefined"===typeof document)return[2];if(l=document.getElementById("validator-player-container"),!l)throw new Error("YouTube validator configured incorrectly");return c=document.createElement("div"),c.setAttribute("data-plyr-provider","youtube"),c.setAttribute("data-plyr-embed-id",n.videoId),l.append(c),d=new Bt.a(c),setTimeout((function(){c.remove(),d.destroy()}),this.youtubeValidationTimeout),[2,new Promise((function(t,e){setTimeout((function(){e(new Error("Validation with YouTube is timed out"))}),u.youtubeValidationTimeout),d.on("ready",(function(){var o=d;o&&o.embed&&(n.title=o.embed.getVideoData().title),n.duration=d.duration,n.poster=d.poster,n.duration||e(new Error("Video is unavailable")),n.duration>u.maxVideoDuration&&e(new Error("Video is too long")),t()}))}))]}))}))},t}(),Et=function(){function t(t,e,n){var o=this;this.onNewPostedUrlsCallbacks=[];var i=new Pt;i.maxVideoDuration=e,this.dApp=new _t["RegularDecentralizedApplication"](t,n),this.dApp.transactionTypeResolver.setPayloadSerializer(mt.t,new bt),this.dApp.transactionTypeResolver.setSpecificValidator(mt.t,i),this.dApp.transactionTypeResolver.setPayloadSerializer(Ct.t,new yt),this.dApp.transactionTypeResolver.setSpecificValidator(Ct.t,new Tt),this.dApp.transactionService.addOnNewTransactionsCallback((function(t){o.handleNewTransactions(t)}))}return t.prototype.postUrl=function(t,e){return r["a"](this,void 0,Promise,(function(){var n,o,i,s,a;return r["d"](this,(function(r){switch(r.label){case 0:return n=t.getPublicUser(),o=new At,i=o.extractVideoId(e),s=new ft(i,n),[4,this.dApp.transactionService.createTransaction(n,mt.t,s)];case 1:return a=r.sent(),[4,this.dApp.transactionService.signAndSend(t,a)];case 2:return r.sent(),[2]}}))}))},t.prototype.getPostedUrls=function(t){return void 0===t&&(t=!1),r["a"](this,void 0,Promise,(function(){var e,n;return r["d"](this,(function(o){switch(o.label){case 0:return[4,this.dApp.transactionService.getTransactions(!0)];case 1:return e=o.sent(),n=this.extractUrlsFromTransactions(e),[2,n.sort((function(e,o){if(!t){var i=e.getScore(),s=o.getScore();if(i>s)return-1;if(i<s)return 1}if(e.storedAt>o.storedAt)return-1;if(e.storedAt<o.storedAt)return 1;var r=n.indexOf(e),a=n.indexOf(o);return r>a?-1:r<a?1:0}))]}}))}))},t.prototype.addOnNewPostedUrlsCallback=function(t){this.onNewPostedUrlsCallbacks.push(t)},t.prototype.handleNewTransactions=function(t){var e=this.extractUrlsFromTransactions(t);if(e.length)for(var n=0,o=this.onNewPostedUrlsCallbacks;n<o.length;n++){var i=o[n];i(e)}},t.prototype.vote=function(t,e,n){return r["a"](this,void 0,Promise,(function(){var o,i,s;return r["d"](this,(function(r){switch(r.label){case 0:return o=t.getPublicUser(),i=new kt(e.urlModel.videoId,o,n),[4,this.dApp.transactionService.createTransaction(o,Ct.t,i)];case 1:return s=r.sent(),[4,this.dApp.transactionService.signAndSend(t,s)];case 2:return r.sent(),[2]}}))}))},t.prototype.extractUrlsFromTransactions=function(t){for(var e=new Map,n=0,o=t;n<o.length;n++){var i=o[n];if(i.type===mt.t){var s=i.model,r=new wt(s,i.storedAt?i.storedAt:new Date);e.set(s.videoId,r)}}for(var a=0,l=t;a<l.length;a++){i=l[a];if(i.type===Ct.t){var c=i.model;r=e.get(c.videoId);r&&r.addVote(c)}}var d=[];return e.forEach((function(t){d.push(t)})),d},t}(),Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" Users ("+t._s(t.usersWithTransactions.length)+"): "),t.usersWithTransactions&&t.usersWithTransactions.length?n("ul",t._l(t.usersWithTransactions,(function(e){return n("li",{key:e.user.publicKey},[n("user",{attrs:{user:e.user}}),t._v(": "+t._s(e.transactions.length)+" ")],1)})),0):t._e()])},St=[],xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),r["b"]([Object(a["b"])({default:[]})],e.prototype,"usersWithTransactions",void 0),e=r["b"]([Object(a["a"])({components:{User:dt}})],e),e}(a["c"]),Lt=xt,Nt=Lt,Ot=Object(u["a"])(Nt,Ut,St,!1,null,null,null),Vt=Ot.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Ignore and block preferences")]),t.preferencesIgnoreAndBlock?n("table",{staticClass:"table table-bordered"},[n("tr",[n("td",[t._v("Block Blacklist "),n("input",{attrs:{type:"checkbox"},domProps:{checked:t.preferencesIgnoreAndBlock.isBlockBlackListEnabled},on:{click:function(e){return t.toggleBlockBlackList()}}})]),n("td",[t._v("Ignore Blacklist "),n("input",{attrs:{type:"checkbox"},domProps:{checked:t.preferencesIgnoreAndBlock.isIgnoreBlackListEnabled},on:{click:function(e){return t.toggleIgnoreBlackList()}}})])]),n("tr",[n("td",[t.preferencesIgnoreAndBlock.blockBlackList?n("ul",t._l(t.preferencesIgnoreAndBlock.blockBlackList,(function(e){return n("li",{key:e.publicKey},[n("user",{attrs:{user:e}}),t._v(" "),n("span",{on:{click:function(n){return t.removeFromBlockBlackList(e)}}},[t._v("[remove]")])],1)})),0):t._e()]),n("td",[t.preferencesIgnoreAndBlock.ignoreBlackList?n("ul",t._l(t.preferencesIgnoreAndBlock.ignoreBlackList,(function(e){return n("li",{key:e.publicKey},[n("user",{attrs:{user:e}}),t._v(" "),n("span",{on:{click:function(n){return t.removeFromIgnoreBlackList(e)}}},[t._v("[remove]")])],1)})),0):t._e()])]),n("tr",[n("td",[t._v("Block Whitelist "),n("input",{attrs:{type:"checkbox"},domProps:{checked:t.preferencesIgnoreAndBlock.isBlockWhiteListEnabled},on:{click:function(e){return t.toggleBlockWhiteList()}}})]),n("td",[t._v("Ignore Whitelist "),n("input",{attrs:{type:"checkbox"},domProps:{checked:t.preferencesIgnoreAndBlock.isIgnoreWhiteListEnabled},on:{click:function(e){return t.toggleIgnoreWhiteList()}}})])]),n("tr",[n("td",[t.preferencesIgnoreAndBlock.blockWhiteList?n("ul",t._l(t.preferencesIgnoreAndBlock.blockWhiteList,(function(e){return n("li",{key:e.publicKey},[n("user",{attrs:{user:e}}),t._v(" "),n("span",{on:{click:function(n){return t.removeFromBlockWhiteList(e)}}},[t._v("[remove]")])],1)})),0):t._e()]),n("td",[t.preferencesIgnoreAndBlock.ignoreWhiteList?n("ul",t._l(t.preferencesIgnoreAndBlock.ignoreWhiteList,(function(e){return n("li",{key:e.publicKey},[n("user",{attrs:{user:e}}),t._v(" "),n("span",{on:{click:function(n){return t.removeFromIgnoreWhiteList(e)}}},[t._v("[remove]")])],1)})),0):t._e()])]),n("tr",[n("td",{attrs:{colspan:"2"}},[t._v(" Blocked transaction hashes: "+t._s(t.preferencesIgnoreAndBlock.blockedTransactionHashes.length)+" "),n("button",{staticClass:"btn btn-sm btn-secondary ml-2",on:{click:function(e){return t.clearBlockedTransactionHashes()}}},[t._v("Clear")])])])]):t._e()])},Wt=[],Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),e.prototype.removeFromBlockBlackList=function(t){q.$emit("userControl","removeFromBlockBlackList",t)},e.prototype.removeFromIgnoreBlackList=function(t){q.$emit("userControl","removeFromIgnoreBlackList",t)},e.prototype.removeFromBlockWhiteList=function(t){q.$emit("userControl","removeFromBlockWhiteList",t)},e.prototype.removeFromIgnoreWhiteList=function(t){q.$emit("userControl","removeFromIgnoreWhiteList",t)},e.prototype.toggleBlockBlackList=function(){var t=!this.preferencesIgnoreAndBlock.isBlockBlackListEnabled;q.$emit("setIgnoreAndBlockListEnabled","blockBlack",t)},e.prototype.toggleIgnoreBlackList=function(){var t=!this.preferencesIgnoreAndBlock.isIgnoreBlackListEnabled;q.$emit("setIgnoreAndBlockListEnabled","ignoreBlack",t)},e.prototype.toggleBlockWhiteList=function(){var t=!this.preferencesIgnoreAndBlock.isBlockWhiteListEnabled;q.$emit("setIgnoreAndBlockListEnabled","blockWhite",t)},e.prototype.toggleIgnoreWhiteList=function(){var t=!this.preferencesIgnoreAndBlock.isIgnoreWhiteListEnabled;q.$emit("setIgnoreAndBlockListEnabled","ignoreWhite",t)},e.prototype.clearBlockedTransactionHashes=function(){q.$emit("clearBlockedTransactionHashes")},r["b"]([Object(a["b"])({default:null})],e.prototype,"preferencesIgnoreAndBlock",void 0),e=r["b"]([Object(a["a"])({components:{User:dt}})],e),e}(a["c"]),Rt=Mt,Dt=Rt,Qt=Object(u["a"])(Dt,jt,Wt,!1,null,null,null),qt=Qt.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("vue-plyr",{ref:"plyr"},[n("div",{attrs:{"data-plyr-provider":"youtube","data-plyr-embed-id":t.videoId}})])],1)},zt=[],Xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),Object.defineProperty(e.prototype,"player",{get:function(){return this.$refs.plyr.player},enumerable:!0,configurable:!0}),e.prototype.onVideoIdChange=function(){this.player.source={type:"video",sources:[{src:this.videoId,provider:"youtube"}]}},e.prototype.mounted=function(){var t=this;this.player.on("ended",(function(){t.playNextVideoInPlaylist()})),this.player.on("ready",(function(){t.player.play()}))},e.prototype.playNextVideoInPlaylist=function(){if(0!==this.playlist.length){var t=this.playlist.indexOf(this.videoId),e=t+1;e===this.playlist.length&&(e=0),this.videoId=this.playlist[e]}},r["b"]([Object(a["b"])({default:null})],e.prototype,"videoId",void 0),r["b"]([Object(a["b"])({default:[]})],e.prototype,"playlist",void 0),r["b"]([Object(a["d"])("videoId")],e.prototype,"onVideoIdChange",null),e=r["b"]([a["a"]],e),e}(a["c"]),Ht=Xt,Yt=Ht,Ft=Object(u["a"])(Yt,Kt,zt,!1,null,null,null),Zt=Ft.exports;n("a992");var Jt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.namespace="",e.connectionsPool=null,e.activeConnectionsNum=0,e.login="",e.password="",e.authErrorMessage="",e.authenticatedUser=null,e.postedUrls=[],e.postedUrlsTop=[],e.usersWithTransactions=[],e.myTransactions=[],e.preferencesIgnoreAndBlock=null,e.usedStorageSpace=0,e.playerVideoId=null,e.playlist=[],e.playingListId="",e.doNotAddToPlaylistDownVoted=!0,e.networkingIsStarted=!1,e.maxVideoDuration=300,e.sidebarToggled=!0,e.socketsSignalingIsConnected=!1,e.connectionViaSockets=null,e.socketsSignaling=null,e}return r["c"](e,t),e.prototype.created=function(){var t=this;q.$on("userControl",(function(e,n){if(t.youTubeRadio){switch(e){case"block":t.youTubeRadio.dApp.ignoreAndBlockControlService.addUserToBlockBlackList(n);break;case"ignore":t.youTubeRadio.dApp.ignoreAndBlockControlService.addUserToIgnoreBlackList(n);break;case"addToBlockWhiteList":t.youTubeRadio.dApp.ignoreAndBlockControlService.addUserToBlockWhiteList(n);break;case"addToIgnoreWhiteList":t.youTubeRadio.dApp.ignoreAndBlockControlService.addUserToIgnoreWhiteList(n);break;case"removeFromBlockBlackList":t.youTubeRadio.dApp.ignoreAndBlockControlService.removeUserFromBlockBlackList(n);break;case"removeFromIgnoreBlackList":t.youTubeRadio.dApp.ignoreAndBlockControlService.removeUserFromIgnoreBlackList(n);break;case"removeFromBlockWhiteList":t.youTubeRadio.dApp.ignoreAndBlockControlService.removeUserFromBlockWhiteList(n);break;case"removeFromIgnoreWhiteList":t.youTubeRadio.dApp.ignoreAndBlockControlService.removeUserFromIgnoreWhiteList(n);break;default:console.error("Unknown userControl action",e)}t.youTubeRadio.dApp&&(t.youTubeRadio.dApp.transactionService.filterAndStoreStoredTransactions(),t.loadModels())}})),q.$on("setIgnoreAndBlockListEnabled",(function(e,n){if(t.youTubeRadio){switch(e){case"blockBlack":t.youTubeRadio.dApp.ignoreAndBlockControlService.setBlockBlackListEnabled(n);break;case"ignoreBlack":t.youTubeRadio.dApp.ignoreAndBlockControlService.setIgnoreBlackListEnabled(n);break;case"blockWhite":t.youTubeRadio.dApp.ignoreAndBlockControlService.setBlockWhiteListEnabled(n);break;case"ignoreWhite":t.youTubeRadio.dApp.ignoreAndBlockControlService.setIgnoreWhiteListEnabled(n);break;default:console.error("Unknown setIgnoreAndBlockListEnabled list",e)}t.youTubeRadio&&(t.youTubeRadio.dApp.transactionService.filterAndStoreStoredTransactions(),t.loadModels())}})),q.$on("clearBlockedTransactionHashes",(function(){return r["a"](t,void 0,void 0,(function(){return r["d"](this,(function(t){switch(t.label){case 0:return this.youTubeRadio?[4,this.youTubeRadio.dApp.ignoreAndBlockControlService.clearTransactionHashesToBlock()]:[3,3];case 1:return t.sent(),[4,this.loadModels()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))})),q.$on("vote",(function(e,n){return r["a"](t,void 0,void 0,(function(){return r["d"](this,(function(t){switch(t.label){case 0:return this.youTubeRadio&&this.authenticatedUser?[4,this.youTubeRadio.vote(this.authenticatedUser,e,n)]:[2];case 1:return t.sent(),this.loadModels(),[2]}}))}))})),q.$on("play",(function(e,n){t.playerVideoId=e.urlModel.videoId,t.playingListId=n,t.updatePlaylist()})),q.$on("socketsSignalingIsConnected",(function(e,n){t.socketsSignalingIsConnected=!0,t.connectionsPool&&t.connectionViaSockets&&t.connectionsPool.closeConnection(t.connectionViaSockets),t.socketsSignaling&&t.socketsSignaling.disconnect(),t.connectionViaSockets=e,t.socketsSignaling=n}))},e.prototype.beginWithNamespace=function(){var t=this;if(this.namespace!==this.$route.params.namespace){this.namespace=this.$route.params.namespace,this.activeConnectionsNum=0,this.networkingIsStarted=!1,this.connectionsPool&&this.connectionsPool.close(),this.connectionsPool=new P["WebRtcConnectionsPool"](!0,this.namespace),this.connectionsPool.addOnOpenCallback((function(){t.activeConnectionsNum+=1})),this.connectionsPool.addOnCloseCallback((function(){t.activeConnectionsNum-=1})),this.youTubeRadio=new Et(this.namespace,this.maxVideoDuration,this.connectionsPool);var e=this.youTubeRadio.dApp;this.connectionsPool.addOnOpenCallback((function(){t.networkingIsStarted||(e.transactionService.addOnNewTransactionsCallback(t.handleNewTransactions),t.broadcast(),t.networkingIsStarted=!0)})),this.usedStorageSpace=this.youTubeRadio.dApp.storageService.getUsedStorageSpace(),this.loadModels()}},e.prototype.broadcast=function(){if(this.youTubeRadio){this.youTubeRadio.dApp.transactionService.broadcastTransactions();var t=this.getAdaptiveBroadcastInterval();window.setTimeout(this.broadcast,t)}},e.prototype.getAdaptiveBroadcastInterval=function(){return 3e4*Math.max(1,this.activeConnectionsNum)},Object.defineProperty(e.prototype,"identicon",{get:function(){if(!this.authenticatedUser)return"";var t=n("5934");return t.toSvg(this.authenticatedUser.publicKey,56)},enumerable:!0,configurable:!0}),e.prototype.register=function(){return r["a"](this,void 0,void 0,(function(){var t,e;return r["d"](this,(function(n){switch(n.label){case 0:if(!this.youTubeRadio)return[2];this.authErrorMessage="",n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,this.youTubeRadio.dApp.userService.register(this.login,this.password)];case 2:return t.authenticatedUser=n.sent(),this.$refs.registerCloseBtn.click(),[3,4];case 3:return e=n.sent(),this.authErrorMessage=e.toString(),[3,4];case 4:return[2]}}))}))},e.prototype.signin=function(){return r["a"](this,void 0,void 0,(function(){var t,e;return r["d"](this,(function(n){switch(n.label){case 0:if(!this.youTubeRadio)return[2];this.authErrorMessage="",n.label=1;case 1:return n.trys.push([1,4,,5]),t=this,[4,this.youTubeRadio.dApp.userService.login(this.login,this.password)];case 2:return t.authenticatedUser=n.sent(),this.$refs.loginCloseBtn.click(),[4,this.loadModels()];case 3:return n.sent(),[3,5];case 4:return e=n.sent(),this.authErrorMessage=e.toString(),[3,5];case 5:return[2]}}))}))},e.prototype.handleNewTransactions=function(t){return r["a"](this,void 0,void 0,(function(){return r["d"](this,(function(t){switch(t.label){case 0:return[4,this.loadModels()];case 1:return t.sent(),[2]}}))}))},e.prototype.loadModels=function(){return r["a"](this,void 0,void 0,(function(){var t,e,n,o,i,s,a;return r["d"](this,(function(r){switch(r.label){case 0:return this.youTubeRadio?(t=this,[4,this.youTubeRadio.getPostedUrls(!0)]):[3,3];case 1:return t.postedUrls=r.sent(),e=this,[4,this.youTubeRadio.getPostedUrls(!1)];case 2:e.postedUrlsTop=r.sent(),this.updatePlaylist(),r.label=3;case 3:return this.youTubeRadio?(n=this,[4,this.youTubeRadio.dApp.userService.getUsersWithTransactions(!0)]):[3,5];case 4:if(n.usersWithTransactions=r.sent(),this.authenticatedUser)for(o=0,i=this.usersWithTransactions;o<i.length;o++)if(s=i[o],s.user.publicKey===this.authenticatedUser.publicKey){this.myTransactions=s.transactions;break}r.label=5;case 5:return this.youTubeRadio?(a=this,[4,this.youTubeRadio.dApp.ignoreAndBlockControlService.getPreferences()]):[3,7];case 6:a.preferencesIgnoreAndBlock=r.sent(),r.label=7;case 7:return[2]}}))}))},e.prototype.updatePlaylist=function(){var t=this.postedUrls;if("top"===this.playingListId&&(t=this.postedUrlsTop),this.authenticatedUser&&this.doNotAddToPlaylistDownVoted){var e=this.authenticatedUser.getPublicUser();t=t.filter((function(t){return!t.hasUserVotedNegatively(e)}))}this.playlist=t.map((function(t){return t.urlModel.videoId})),"top"!==this.playingListId&&(this.playlist=this.playlist.reverse())},r["b"]([Object(a["d"])("$route",{immediate:!0,deep:!0})],e.prototype,"beginWithNamespace",null),r["b"]([Object(a["d"])("doNotAddToPlaylistDownVoted")],e.prototype,"updatePlaylist",null),e=r["b"]([Object(a["a"])({components:{Player:Zt,IgnoreAndBlockPreferences:qt,UsersList:Vt,LocalSignaling:L,ManualSignaling:R,SocketsSignaling:Y,PostedUrlsList:gt}})],e),e}(a["c"]),$t=Jt,Gt=$t,te=(n("8244"),Object(u["a"])(Gt,_,T,!1,null,"f894effa",null)),ee=te.exports,ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("h1",[t._v("Connection page")]),t.connectionsPool?n("div",{staticClass:"col-12"},[t._m(0),n("div",{staticClass:"tab-content"},[n("div",{staticClass:"tab-pane fade show active",attrs:{id:"sockets",role:"tabpanel","aria-labelledby":"sockets-tab"}},[n("SocketsSignaling",{attrs:{room:t.namespace,connectionsPool:t.connectionsPool,socketsSignalingIsConnected:t.socketsSignalingIsConnected}})],1),n("div",{staticClass:"tab-pane fade",attrs:{id:"manual",role:"tabpanel","aria-labelledby":"manual-tab"}},[n("ManualSignaling",{attrs:{connectionsPool:t.connectionsPool}})],1),n("div",{staticClass:"tab-pane fade",attrs:{id:"local",role:"tabpanel","aria-labelledby":"local-tab"}},[n("LocalSignaling",{attrs:{connectionsPool:t.connectionsPool}})],1)])]):t._e()])},oe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"nav nav-tabs mb-2",attrs:{role:"tablist"}},[n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link active",attrs:{id:"sockets-tab","data-toggle":"tab",href:"#sockets",role:"tab","aria-controls":"sockets","aria-selected":"true"}},[t._v("Sockets")])]),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{id:"manual-tab","data-toggle":"tab",href:"#manual",role:"tab","aria-controls":"manual","aria-selected":"false"}},[t._v("Manual")])]),n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",attrs:{id:"local-tab","data-toggle":"tab",href:"#local",role:"tab","aria-controls":"local","aria-selected":"false"}},[t._v("Local (debug)")])])])}],ie=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),r["b"]([Object(a["b"])({default:""})],e.prototype,"namespace",void 0),r["b"]([Object(a["b"])({default:null})],e.prototype,"connectionsPool",void 0),r["b"]([Object(a["b"])({default:0})],e.prototype,"activeConnectionsNum",void 0),r["b"]([Object(a["b"])({default:!1})],e.prototype,"socketsSignalingIsConnected",void 0),e=r["b"]([Object(a["a"])({components:{LocalSignaling:L,ManualSignaling:R,SocketsSignaling:Y}})],e),e}(a["c"]),se=ie,re=se,ae=Object(u["a"])(re,ne,oe,!1,null,null,null),le=ae.exports,ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"row mb-4"},[n("div",{staticClass:"col-md-12"},[t._m(0),n("div",{staticClass:"float-left"},[n("button",{staticClass:"btn btn-primary",class:t.activeConnectionsNum<1?"disabled":"",attrs:{role:"button","data-toggle":"modal","data-target":"#postUrlModal"}},[t._v("Add video ")])])])]),n("posted-urls-list",{attrs:{"posted-urls":t.postedUrls,user:t.authenticatedUser,"list-id":"latest"}}),n("div",{staticClass:"modal fade",attrs:{id:"postUrlModal",tabindex:"-1",role:"dialog","aria-labelledby":"postUrlModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(1),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"postUrlInput"}},[t._v("Link to a video on YouTube. Max duration of the video is "+t._s(t.maxVideoDuration)+"s.")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"form-control",attrs:{type:"text",id:"postUrlInput","aria-describedby":"postUrlHelp"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}}),n("small",{staticClass:"form-text text-muted",attrs:{id:"postUrlHelp"}},[t._v("It should be a link to a music video")])]),t.postUrlErrorMessage?n("div",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.postUrlErrorMessage)+" ")]):t._e(),t.activeConnectionsNum<1?n("div",{staticClass:"alert alert-warning"},[t._v(" You are not connected to the network ")]):t._e(),t.authenticatedUser?t._e():n("div",{staticClass:"alert alert-warning"},[t._v(" You are not logged-in to publish urls ")])]),n("div",{staticClass:"modal-footer"},[n("button",{ref:"postUrlCloseBtn",staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t.isInProgress?n("button",{staticClass:"btn btn-primary disabled",attrs:{type:"button"}},[n("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}),t._v(" Loading... ")]):t._e(),t.isInProgress?t._e():n("button",{staticClass:"btn btn-primary",class:t.activeConnectionsNum<1?"disabled":"",attrs:{type:"button"},on:{click:t.addUrl}},[t._v("Post video")])])])])])],1)},de=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"float-left mr-4"},[n("h1",[t._v("Radio")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"postUrlModalLabel"}},[t._v("Add video")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.url="",e.postUrlErrorMessage="",e.isInProgress=!1,e}return r["c"](e,t),e.prototype.addUrl=function(){return r["a"](this,void 0,void 0,(function(){var t;return r["d"](this,(function(e){switch(e.label){case 0:if(this.activeConnectionsNum<1||!this.url||!this.youTubeRadio||!this.authenticatedUser)return[2];this.postUrlErrorMessage="",e.label=1;case 1:return e.trys.push([1,3,,4]),this.isInProgress=!0,[4,this.youTubeRadio.postUrl(this.authenticatedUser,this.url)];case 2:return e.sent(),this.url="",this.$refs.postUrlCloseBtn.click(),[3,4];case 3:return t=e.sent(),console.error(t),this.postUrlErrorMessage=t.toString(),[3,4];case 4:return this.isInProgress=!1,[2]}}))}))},r["b"]([Object(a["b"])({default:[]})],e.prototype,"postedUrls",void 0),r["b"]([Object(a["b"])({default:null})],e.prototype,"youTubeRadio",void 0),r["b"]([Object(a["b"])({default:null})],e.prototype,"authenticatedUser",void 0),r["b"]([Object(a["b"])({default:0})],e.prototype,"activeConnectionsNum",void 0),r["b"]([Object(a["b"])({default:0})],e.prototype,"maxVideoDuration",void 0),e=r["b"]([Object(a["a"])({components:{PostedUrlsList:gt}})],e),e}(a["c"]),pe=ue,he=pe,ve=Object(u["a"])(he,ce,de,!1,null,null,null),ge=ve.exports,be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"mb-4"},[t._v("Top 100")]),n("posted-urls-list",{attrs:{"posted-urls":t.postedUrlsTop.slice(0,100),user:t.authenticatedUser,"list-id":"top"}})],1)},fe=[],me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),r["b"]([Object(a["b"])({default:[]})],e.prototype,"postedUrlsTop",void 0),r["b"]([Object(a["b"])({default:null})],e.prototype,"authenticatedUser",void 0),e=r["b"]([Object(a["a"])({components:{PostedUrlsList:gt}})],e),e}(a["c"]),Ae=me,ye=Ae,ke=Object(u["a"])(ye,be,fe,!1,null,null,null),Ce=ke.exports,we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("My transactions: "+t._s(t.myTransactions.length))]),t.myTransactions?n("div",[t.myTransactions&&t.myTransactions.length?n("table",{staticClass:"table table-striped"},[t._m(0),t._l(t.myTransactions.slice(-100).reverse(),(function(e){return n("tr",{key:e.hash},[n("td",[t._v(t._s(e.type))]),n("td",[t._v(t._s(e.signatures.length))]),n("td",[t._v(t._s(e.storedAt.toLocaleString()))])])}))],2):t._e()]):t._e()])},_e=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[t._v("Type")]),n("td",[t._v("Signatures")]),n("td",[t._v("Stored at")])])}],Te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),r["b"]([Object(a["b"])({default:[]})],e.prototype,"myTransactions",void 0),e=r["b"]([a["a"]],e),e}(a["c"]),Ie=Te,Be=Ie,Pe=Object(u["a"])(Be,we,_e,!1,null,null,null),Ee=Pe.exports,Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1"),n("div",[n("users-list",{attrs:{"users-with-transactions":t.usersWithTransactions}})],1)])},Se=[],xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),r["b"]([Object(a["b"])({default:[]})],e.prototype,"usersWithTransactions",void 0),e=r["b"]([Object(a["a"])({components:{UsersList:Vt}})],e),e}(a["c"]),Le=xe,Ne=Le,Oe=Object(u["a"])(Ne,Ue,Se,!1,null,null,null),Ve=Oe.exports,je=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},We=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("About")]),n("p",[t._v("The project is completely open source.")]),n("p",[t._v(" Main source code is published on GitHub: "),n("a",{attrs:{href:"https://github.com/rnixik/d-web-radio"}},[t._v("https://github.com/rnixik/d-web-radio")]),t._v(". ")]),n("div",[t._v(" This application uses the following components: "),n("ul",[n("li",[t._v("Signaling server to exchange connection parameters without saving any data: "),n("a",{attrs:{href:"https://github.com/rnixik/webrtc-signaler/blob/master/server.js"}},[t._v("https://github.com/rnixik/webrtc-signaler")])]),n("li",[t._v("A library with transactions algorithms with user authentication, validation, storing "),n("a",{attrs:{href:"https://github.com/rnixik/d-web-core"}},[t._v("https://github.com/rnixik/d-web-core")])]),n("li",[t._v("A package to unify WebRTC interaction with signaling "),n("a",{attrs:{href:"https://github.com/rnixik/webrtc-connection"}},[t._v("https://github.com/rnixik/webrtc-connection")])]),n("li",[t._v("Turn server to relay WebRTC messages through NAT in some cases: "),n("a",{attrs:{href:"https://github.com/coturn/coturn"}},[t._v("https://github.com/coturn/coturn")])])])])])}],Me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r["c"](e,t),e=r["b"]([a["a"]],e),e}(a["c"]),Re=Me,De=Re,Qe=Object(u["a"])(De,je,We,!1,null,null,null),qe=Qe.exports;o["a"].use(b["a"]),o["a"].config.productionTip=!1,o["a"].use(g.a,{dialog:!0});var Ke=n("afa7");o["a"].use(Ke.default,{plyr:{fullscreen:{enabled:!1}},emit:["ended"]}),n("f507"),n("7588");var ze=[{path:"/",component:w,name:"greeting"},{path:"/n/:namespace",component:ee,name:"namespace",props:!0,children:[{path:"connections",component:le,name:"connections"},{path:"radio",component:ge,name:"radio"},{path:"top",component:Ce,name:"top"},{path:"my-transactions",component:Ee,name:"myTransactions"},{path:"users-with-transactions",component:Ve,name:"usersWithTransactions"},{path:"ignore-and-block",component:qt,name:"ignoreAndBlock"},{path:"about",component:qe,name:"ignoreAndBlock"}]}],Xe=new b["a"]({routes:ze});new o["a"]({render:function(t){return t(h)},router:Xe}).$mount("#app")},f6cc:function(t,e,n){}});
//# sourceMappingURL=app.fb8b9032.js.map